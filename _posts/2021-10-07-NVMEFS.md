---
layout: post
title: "Series: NVMe driver from scratch in Linux"
tags: nvme-from-scratch
---

In this NVMe from scratch series, we will be writing a simple NVMe driver in Linux. 
The main idea is to write everything from scratch by reading the NVMe spec, online articles, etc and documenting it 
as a blog series. Apart from talking about what all will be covered as a part of this series, 
I also want to talk about the motivation behind this endevour.

## Why write a driver from scratch:
Almost all Operating Systems, especially Linux (my daily driver) has a fast and 
spec compliant driver. The reader might ask: why worry about reinventing the wheel. My answer would be:
that is exactly my point. The current Linux implementation of the NVMe driver is extensive and very very optimized. 
A beginner might get overwhelmed if they start out looking at the Linux source code to learn about NVMe. Don't get me wrong, 
the Linux source code is very very readable but it can be a lot to take in for someone new. It was definitely for me as I was 
new to both Linux driver development and NVMe technology. This blog series is an attempt to demystify that and present a simple 
driver that can be used to understand how to talk to a NVMe drive from Linux. 

## What is the scope of this series:
I want to write a **minimum viable driver** which can read and write to a NVMe drive in Linux. 
I am not planning to compete with the current implementation of Linux but rather complement 
it by writing a simple, well commented NVMe driver code for people to understand the basics. The reader 
might think of it as a skimmed down version of the upstream NVMe driver in Linux.

As a part of this series, I am planning to cover the following:
- QEMU development environment setup
- Configuring the NVMe controller
- Exposing a character device driver to read and write via an ioctl system call
- Creating a block device driver to read and write

This series is not about **how to write a linux kernel module**. There are already
enough tutorials out there and I will also try to point out good articles in the 
respective blog write-up.

## Intended audience:
- Anyone getting started with NVMe driver development
- Anyone who wants to understand how a NVMe driver works at low-level
- Anyone who is just curious about this technology

#### Prerequisites: 
- Basic knowledge of C 
- Basic knowledge of Linux driver development

## Relevant links
All the articles as a part of this blog series can be found [here](https://pankajraghav.com/tag/nvme-from-scratch). 

The main repository containing the code can be found [here](https://github.com/Panky-codes/NVMe-from-scratch).

## Conclusion
This article serves as an introduction and a brief summary to what is intended outcome of this blog series. 

Stay tuned and Happy coding!


